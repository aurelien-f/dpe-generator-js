@use 'sass:math';

@font-face {
    font-family: 'IBM Plex Sans';
    src: url('/fonts/IBMPlexSans-Bold.eot');
    src: url('/fonts/IBMPlexSans-Bold.eot?#iefix') format('embedded-opentype'),
        url('/fonts/IBMPlexSans-Bold.woff2') format('woff2'),
        url('/fonts/IBMPlexSans-Bold.woff') format('woff');
    font-weight: bold;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: 'IBM Plex Sans';
    src: url('/fonts/IBMPlexSans-Medium.eot');
    src: url('/fonts/IBMPlexSans-Medium.eot?#iefix') format('embedded-opentype'),
        url('/fonts/IBMPlexSans-Medium.woff2') format('woff2'),
        url('/fonts/IBMPlexSans-Medium.woff') format('woff');
    font-weight: 500;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: 'IBM Plex Sans';
    src: url('/fonts/IBMPlexSans-Italic.eot');
    src: url('/fonts/IBMPlexSans-Italic.eot?#iefix') format('embedded-opentype'),
        url('/fonts/IBMPlexSans-Italic.woff2') format('woff2'),
        url('/fonts/IBMPlexSans-Italic.woff') format('woff');
    font-weight: normal;
    font-style: italic;
    font-display: swap;
}

@font-face {
    font-family: 'IBM Plex Sans Condensed';
    src: url('/fonts/IBMPlexSansCond-Bold.eot');
    src: url('/fonts/IBMPlexSansCond-Bold.eot?#iefix') format('embedded-opentype'),
        url('/fonts/IBMPlexSansCond-Bold.woff2') format('woff2'),
        url('/fonts/IBMPlexSansCond-Bold.woff') format('woff');
    font-weight: bold;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: 'IBM Plex Sans Condensed';
    src: url('/fonts/IBMPlexSansCond-Italic.eot');
    src: url('/fonts/IBMPlexSansCond-Italic.eot?#iefix') format('embedded-opentype'),
        url('/fonts/IBMPlexSansCond-Italic.woff2') format('woff2'),
        url('/fonts/IBMPlexSansCond-Italic.woff') format('woff');
    font-weight: normal;
    font-style: italic;
    font-display: swap;
}

@font-face {
    font-family: 'IBM Plex Sans';
    src: url('/fonts/IBMPlexSans.eot');
    src: url('/fonts/IBMPlexSans.eot?#iefix') format('embedded-opentype'),
        url('/fonts/IBMPlexSans.woff2') format('woff2'),
        url('/fonts/IBMPlexSans.woff') format('woff');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: 'IBM Plex Sans Condensed';
    src: url('/fonts/IBMPlexSansCond-Medium.eot');
    src: url('/fonts/IBMPlexSansCond-Medium.eot?#iefix') format('embedded-opentype'),
        url('/fonts/IBMPlexSansCond-Medium.woff2') format('woff2'),
        url('/fonts/IBMPlexSansCond-Medium.woff') format('woff');
    font-weight: 500;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: 'IBM Plex Sans';
    src: url('/fonts/IBMPlexSans-SemiBold.eot');
    src: url('/fonts/IBMPlexSans-SemiBold.eot?#iefix') format('embedded-opentype'),
        url('/fonts/IBMPlexSans-SemiBold.woff2') format('woff2'),
        url('/fonts/IBMPlexSans-SemiBold.woff') format('woff');
    font-weight: 600;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: 'Minion Pro';
    src: url('/fonts/MinionPro-Regular.eot');
    src: url('/fonts/MinionPro-Regular.eot?#iefix') format('embedded-opentype'),
        url('/fonts/MinionPro-Regular.woff2') format('woff2'),
        url('/fonts/MinionPro-Regular.woff') format('woff');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: 'IBM Plex Sans Condensed';
    src: url('/fonts/IBMPlexSansCond.eot');
    src: url('/fonts/IBMPlexSansCond.eot?#iefix') format('embedded-opentype'),
        url('/fonts/IBMPlexSansCond.woff2') format('woff2'),
        url('/fonts/IBMPlexSansCond.woff') format('woff');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
}

$font : "IBM Plex Sans Condensed";
$font-m: 500;
$font-sb : 600;

@function vw($px-vw, $base-vw: 1920px) {
    @return math.div($px-vw * 100vw, $base-vw) or calc(($px-vw * 100vw) / $base-vw);
}

@function strip-unit($number) {
    @if type-of($number)=='number'and not unitless($number) {
        @return math.div($number, $number * 0 + 1) or calc($number / ($number * 0 + 1));
    }

    @return $number;
}

@mixin fluid-text($min-font-size, $max-font-size, $line-height, $break-start, $break-end) {
    /////
    // Calculations font size
    /////
    $fsm: math.div(strip-unit($max-font-size) - strip-unit($min-font-size), strip-unit($break-end) - strip-unit($break-start)) or calc((strip-unit($max-font-size) - strip-unit($min-font-size)) / (strip-unit($break-end) - strip-unit($break-start)));
    $fsb: #{$min-font-size - $fsm * $break-start};
    $fsmx: #{$fsm * 100vw};
    /////
    // Output
    /////
    font-size: #{$min-font-size};
    line-height: #{$line-height};

    @media (min-width: #{$break-start}) {
        font-size: calc(#{$fsmx} + #{$fsb});
    }

    @media (min-width: $break-end) {
        font-size: #{$max-font-size};
    }
}

.test-container {
    width: 450px;

    @media screen and (max-width:991px) {
        width: 100%;
    }
}

body {
    font-size: 5px;
}

.dpeGenerator {
    position: relative;
    overflow: hidden;
    font-family: $font;

    img {
        position: relative;
        width: 100%;
        height: auto;
        z-index: 0;
    }

    &_infos {
        display: block;
        position: absolute;
        z-index: 1;
        left: 0;
        display: flex;
        align-items: flex-end;
    }

    &-energie {
        width: 100%;

        .dpeGenerator {
            font-family: $font;

            &_infos {
                width: 30%;
                margin-left: 3.5%;

                .alt {
                    font-size: 10px;
                }

                .top {
                    position: absolute;
                    width: 100%;
                    bottom: calc(100% + 5px);
                    margin: 0;
                    display: block;
                    text-align: center;
                    font-weight: 400;
                }

                .bot {
                    border: 1px solid red;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    flex-direction: column;
                    width: 100%;
                    height: 65px;

                    .number {
                        line-height: 1;
                        font-size: 29px;
                        font-weight: bold;
                    }
                }

                &_consommation {
                    position: relative;
                    width: 53%;
                }

                &_emissions {
                    position: relative;
                    width: 47%;
                }
            }
        }
    }
}